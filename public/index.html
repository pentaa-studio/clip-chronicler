<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clip Chronicler API</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .endpoint {
            background: #f5f5f5;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
        code {
            background: #e0e0e0;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: monospace;
        }
        .example {
            background: #e8f4fd;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé¨ Clip Chronicler API</h1>
        <p>API pour cr√©er des clips vid√©o avec overlay texte depuis YouTube</p>
    </div>

    <h2>üìã Endpoint principal</h2>
    <div class="endpoint">
        <strong>GET</strong> <code>/api/make-video</code>
    </div>

    <h2>üîß Param√®tres</h2>
    <ul>
        <li><code>videoId</code> : ID YouTube (requis)</li>
        <li><code>start</code> : d√©but en secondes (d√©faut: 0)</li>
        <li><code>dur</code> : dur√©e en secondes (d√©faut: 20)</li>
        <li><code>text</code> : texte √† overlay (d√©faut: "Chronique Trunks")</li>
        <li><code>cookies</code> : cookies YouTube (optionnel)</li>
        <li><code>dry=1</code> : mode test (pas d'ex√©cution ffmpeg/yt-dlp)</li>
    </ul>

    <h2>üß™ Exemples</h2>
    
    <div class="example">
        <h3>Mode Dry-Run (test)</h3>
        <code>GET /api/make-video?videoId=test&start=0&dur=20&text=Test&dry=1</code>
        <p><strong>R√©ponse :</strong></p>
        <pre>{
  "ok": true,
  "url": "blob://dry-run.mp4",
  "note": "dry-run, no ffmpeg/yt-dlp executed"
}</pre>
    </div>

    <div class="example">
        <h3>Mode Normal (production)</h3>
        <code>GET /api/make-video?videoId=VrIjPGNgKg8&start=0&dur=30&text=Chronique%20Trunks</code>
        <p><strong>R√©ponse :</strong></p>
        <pre>{
  "ok": true,
  "url": "https://blob.vercel-storage.com/..."
}</pre>
    </div>

    <h2>üöÄ Fonctionnalit√©s</h2>
    <ul>
        <li>‚úÖ T√©l√©chargement d'extraits YouTube avec yt-dlp</li>
        <li>‚úÖ Traitement vid√©o avec ffmpeg (9:16, overlay texte)</li>
        <li>‚úÖ Mode dry-run pour tests</li>
        <li>‚úÖ Support des cookies YouTube (optionnel)</li>
        <li>‚úÖ Upload vers Vercel Blob</li>
    </ul>

    <footer style="margin-top: 3rem; text-align: center; color: #666;">
        <p>D√©velopp√© avec ‚ù§Ô∏è par Pentaa Studio</p>
    </footer>
</body>
</html>
